<div id="formulario" class="row col-sm-10 offset-sm-1 p-4">
    <div class="header">
        <h3>{{ titulo }}</h3>
    </div>
    <hr id="borde" />
    <form #impresoraForm="ngForm">
        <div class="offset-sm-1 pl-5">
            <div class="form-group row">
                <div class="col-sm-5">
                    <label for="username" class="control-label h5">Username</label>
                    <input type="text" class="form-control" [(ngModel)]="user.username" name="username" #modelo="ngModel" />
                </div>
                <div class="col-sm-5">
                    <label for="password" class="control-label h5">Contrase√±a</label>
                    <input type="text" class="form-control" [(ngModel)]="user.password" name="password" #modelo="ngModel" />
                </div>
            </div>

            <div class="form-group row">
                <div class="col-sm-6">
                    <label for="enabled" class="control-label h5 me-1">Usuario Activo</label>
                    <input type="checkbox" [(ngModel)]="user.enabled" name="enabled" class="form-check-input p-2 " style="margin-left: 10px;" />
                </div>
            </div>

            <div class="form-group row">
                <label for="rol" class="control-label h5">Seleccionar Roles</label>
                <div class="col-sm-12">
                    <div class="form-check pt-3 ">
                        <div *ngFor="let rol of roles" class="form-check form-check-inline">
                            <input type="checkbox" [(ngModel)]="rol.checked" name="rol" class="form-check-input p-1 me-2 ms-2 "  />
                            <label class="form-check-label h6">{{ rol.descripcion }}</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group row col-sm-11">
                <label for="dni" class="control-label col-sm-5 h5">Personal HPS</label>
                <mat-form-field>
                    <mat-label>Datos del Personal</mat-label>
                    <input type="text" placeholder="Ingresar DNI" aria-label="dni" matInput
                        [formControl]="myPersonaControl" [matAutocomplete]="auto" />
                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="viewPersona" (optionSelected)="selectedPersona($event)">
                        <mat-option *ngFor="let persona of personasFiltrados | async" [value]="persona">
                            {{ persona.apellido }}&nbsp; {{ persona.nombre }}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </div>

            <div class="form-group row">
                <div class="col-sm-6">
                    <button class="btn btn-primary" role="button" (click)='Volver()' >Volver</button>
                    <button class="btn btn-primary" role="button" (click)="create()" *ngIf="!user.id; else elseBlock">Crear</button>
                    <ng-template #elseBlock>
                        <button class="btn btn-primary" role="button" (click)="update()">Editar</button>
                    </ng-template>
                </div>
            </div>
        </div>
    </form>
</div>
